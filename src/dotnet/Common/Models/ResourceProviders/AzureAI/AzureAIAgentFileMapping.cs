using FoundationaLLM.Common.Constants.ResourceProviders;
using System.Text.Json.Serialization;

namespace FoundationaLLM.Common.Models.ResourceProviders.AzureAI
{
    /// <summary>
    /// Provides details about a file mapping between FoundationaLLM and the Azure AI Agent Service.
    /// </summary>
    public class AzureAIAgentFileMapping : AzureAIAgentResourceBase
    {
        /// <summary>
        /// The FoundationaLLM.Attachment resource object id.
        /// </summary>
        [JsonPropertyName("file_object_id")]
        public required string FileObjectId { get; set; }

        /// <summary>
        /// The original file name of the file.
        /// </summary>
        [JsonPropertyName("original_file_name")]
        public required string OriginalFileName { get; set; }

        /// <summary>
        /// The content type of the file.
        /// </summary>
        [JsonPropertyName("file_content_type")]
        public required string FileContentType { get; set; }

        /// <summary>
        /// Indicates whether the file requires vectorization or not.
        /// </summary>
        [JsonPropertyName("file_requires_vectorization")]
        public bool FileRequiresVectorization { get; set; } = false;

        /// <summary>
        /// The Azure AI Agent Service file id associated with the FoundationaLLM file (attachment) id.
        /// </summary>
        [JsonPropertyName("azureai_agent_file_id")]
        public required string AzureAIAgentFileId { get; set; }

        /// <summary>
        /// The time when the file was uploaded to the Azure AI Agent service.
        /// </summary>
        [JsonPropertyName("azureai_agent_file_uploaded_on")]
        public DateTimeOffset? AzureAIAgentFileUploadedOn { get; set; }

        /// <summary>
        /// The time when the file was generated by the Azure AI Agent service.
        /// </summary>
        [JsonPropertyName("azureai_agent_file_generated_on")]
        public DateTimeOffset? AzureAIAgentFileGeneratedOn { get; set; }

        /// <summary>
        /// The OpenAI vector store id holding the vectorized content of the OpenAI file.
        /// </summary>
        [JsonPropertyName("azureai_agent_vector_store_id")]
        public string? AzureAIAgentVectorStoreId { get; set; }

        /// <summary>
        /// Set default property values.
        /// </summary>
        public AzureAIAgentFileMapping() =>
            Type = AzureAITypes.AgentFileMapping;
    }
}
